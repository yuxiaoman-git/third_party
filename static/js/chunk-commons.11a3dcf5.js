(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"01bf":function(e,t,a){},"333d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,layout:e.layout,"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,small:e.small,"pager-count":e.pagerCount},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[],i=(a("a9e3"),a("09f4")),u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},small:{type:Boolean,default:!1},pagerCount:{type:Number,default:7}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(i["a"])(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(i["a"])(0,800)}}},c=u,s=(a("7059"),a("2877")),l=Object(s["a"])(c,n,r,!1,null,"eedba064",null);t["a"]=l.exports},"33a7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{inline:!0,size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[e.filterData.timeSelect?a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1):e._e(),e._l(e.filterData.elinput,(function(t,n){return a("el-form-item",{key:t.key,attrs:{label:t.name}},[a("el-input",{staticClass:"filter-item",style:{width:t.width?t.width+"px":"200px"},attrs:{placeholder:t.name},model:{value:e.listQuery[t.key],callback:function(a){e.$set(e.listQuery,t.key,a)},expression:"listQuery[item.key]"}})],1)})),e._l(e.filterData.elselect,(function(t,n){return a("el-form-item",{key:t.key,attrs:{label:t.name}},[a("SelectItme",{attrs:{type:t.type,width:t.width?t.width+"px":"200px"},model:{value:e.listQuery[t.key],callback:function(a){e.$set(e.listQuery,t.key,a)},expression:"listQuery[item.key]"}})],1)})),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSearch(t)}}},[e._v(" 查询 ")])],1)],2)],1)},r=[],i=(a("e9c4"),a("d3b7"),a("159b"),a("b64b"),a("73e5")),u={components:{SelectItme:i["a"]},props:{filterData:{type:Object}},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},dateRange:["",""],listQuery:{}}},watch:{"filterData.rest":{handler:function(e){e&&this.handleRest()},deep:!0}},created:function(){},methods:{handleSearch:function(){var e=JSON.parse(JSON.stringify(this.listQuery));this.dateRange&&""!==this.dateRange[0]&&(e.beginDate=this.dateRange[0],e.endDate=this.dateRange[1]),Object.keys(e).forEach((function(t){""!==e[t]&&null!==e[t]&&void 0!==e[t]||delete e[t]})),this.$emit("filterMsg",e)},handleRest:function(){var e=JSON.parse(JSON.stringify(this.listQuery));Object.keys(e).forEach((function(t){delete e[t]})),this.listQuery=e,this.dateRange=["",""],this.$emit("filterMsg",e)}}},c=u,s=a("2877"),l=Object(s["a"])(c,n,r,!1,null,"a86c32e8",null);t["a"]=l.exports},"39ae":function(e,t,a){"use strict";a("63ed")},"3dee":function(e,t,a){"use strict";a("7f74")},"46b3":function(e,t,a){"use strict";a("01bf")},"4ed3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{style:{width:e.width},attrs:{filterable:"",clearable:"",multiple:e.multiple,disabled:e.disabled,loading:e.loading,"reserve-keyword":"",remote:e.remote,"remote-method":e.remoteMethod,placeholder:e.placeholder,"collapse-tags":e.multiple&&e.value&&e.value.length>3},on:{change:e.valChange,focus:e.handelFocus},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._l(e.options,(function(t){return a("el-option",{key:t.value,staticClass:"option-box",attrs:{label:t.label,value:t.value}},[a(e.component,{tag:"component",attrs:{item:t}})],1)})),a("div",{staticStyle:{bottom:"-10px"}},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,"auto-scroll":!1,"pager-count":5,small:"",layout:"prev, pager, next"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)],2)],1)},r=[],i=a("c7eb"),u=a("1da1"),c=a("2909"),s=(a("a9e3"),a("d81d"),a("c740"),a("d3b7"),a("159b"),a("4de4"),a("99af"),a("333d")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("span",[e._v(e._s(e.item.label))]),a("span",{staticClass:"ml-7 gray"},[e._v(e._s(e.item.gender))])]),e.item.birthday?a("span",{staticClass:"birthday"},[e._v("生日:"+e._s(e.item.birthday))]):e._e()])},o=[],p={props:{item:{type:Object,default:function(){return{}}}}},d=p,f=(a("70a4"),a("2877")),b=Object(f["a"])(d,l,o,!1,null,"5d497af3",null),h=b.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"movie-box"},[a("div",{staticClass:"left"},[e.item.img?a("el-image",{staticClass:"img",attrs:{src:e.item.img}}):e._e()],1),a("div",{staticClass:"right"},[a("span",[e._v(e._s(e.item.label))]),a("span",{staticClass:"ml-7 gray"},[e._v(e._s(e.item.year))]),a("span",{staticClass:"gray"},[e._v("（"+e._s(e.item.id)+"）")])])])},m=[],g={props:{item:{type:Object,default:function(){return{}}}}},y=g,_=(a("39ae"),Object(f["a"])(y,v,m,!1,null,"dd465c74",null)),w=_.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{float:"left"}},[e._v(e._s(e.item.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(e.item.real_name))])])},j=[],x={props:{item:{type:Object,default:function(){return{}}}}},k=x,S=Object(f["a"])(k,O,j,!1,null,"489cbbfa",null),C=S.exports,z=(a("498a"),a("b0c0"),a("4360")),$=a("5c96"),M={longhair:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.query,e.next=3,z["a"].dispatch("media/imdbSearchCelebrity",{wd:a.trim(),page:1,page_size:999});case 3:if(n=e.sent,0!==n.code){e.next=8;break}return r=n.data.celebrity_list,u=void 0===r?[]:r,c=u.map((function(e){return Object.assign({value:e.id,label:e.name},e)})),e.abrupt("return",{options:c});case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),diversity:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,n=t.media_id,n){e.next=3;break}return e.abrupt("return",$["Message"].warning("请输入媒体"));case 3:if(a.trim()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,z["a"].dispatch("injector/imdbSearchEpisode",{serial_num:a.trim(),media_id:n});case 7:if(r=e.sent,0!==r.code){e.next=12;break}return u=r.data||[],c=u.map((function(e){return Object.assign({value:e.id,label:e.serial_num},e)})),e.abrupt("return",{options:c});case 12:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkMovie:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,a.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z["a"].dispatch("media/imdbSearch",{name:a.trim(),page:1,page_size:9999});case 5:if(n=e.sent,0!==n.code){e.next=10;break}return r=n.data&&n.data.media_list||[],u=r.map((function(e){return Object.assign({value:e.id,label:e.name},e)})),e.abrupt("return",{options:u});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),mediaInfo:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,n=a.trim(),n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,z["a"].dispatch("property/propertyMediaMatch",{id:n});case 6:if(r=e.sent,0!==r.code){e.next=11;break}return u=r.data||[],c=u.map((function(e){return Object.assign(e,{value:e.mid,label:e.title,con_id:n})})),e.abrupt("return",{options:c});case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),ipInfo:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c,s,l;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.query,n=a.trim(),e.next=4,z["a"].dispatch("ip_design/ip_design_ip",{keyword:n});case 4:if(r=e.sent,u=r.code,c=r.data,s=void 0===c?[]:c,0!=u){e.next=9;break}return l=s.map((function(e){return{value:e._id,label:e.title}})),e.abrupt("return",{options:l});case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),saleMediaInfo:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,n=a.trim(),n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,z["a"].dispatch("property/saleMediaMatch",{id:n});case 6:if(r=e.sent,0!==r.code){e.next=11;break}return u=r.data||[],c=u.map((function(e){return Object.assign(e,{value:e.mid,label:e.title,con_id:n})})),e.abrupt("return",{options:c});case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),company:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c,s,l;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.query,n=t.page,r=t.limit,e.next=3,z["a"].dispatch("partner/partnerCompany",{wd:a.trim(),page:n,page_size:r});case 3:if(u=e.sent,0!==u.code){e.next=9;break}return c=u.data||[],s=u.total_pages*r,l=c.map((function(e){return Object.assign({value:e.id,label:e.title},e)})),e.abrupt("return",{options:l,total:s});case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),staff:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c,s,l;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.query,n=t.page,r=t.limit,e.next=3,z["a"].dispatch("role/userSearch",{wd:a.trim(),page:n,page_size:r});case 3:if(u=e.sent,0!==u.code){e.next=9;break}return c=u.data&&u.data.user_list||[],s=u.data.total_page*r,l=c.map((function(e){return Object.assign({value:e.id,label:e.name},e)})),e.abrupt("return",{options:l,total:s});case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),buyer:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u,c,s,l;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.query,n=t.page,r=t.limit,e.next=3,z["a"].dispatch("role/userSearch",{wd:a.trim(),page:n,page_size:r});case 3:if(u=e.sent,0!==u.code){e.next=9;break}return c=u.data&&u.data.user_list||[],s=u.data.total_page*r,l=c.map((function(e){return{value:e.real_name,label:e.real_name}})),e.abrupt("return",{options:l,total:s});case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),productMedia:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,a.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z["a"].dispatch("origin/productMediaSearch",{wd:a.trim(),page:1,page_size:9999});case 5:if(n=e.sent,0!==n.code){e.next=10;break}return r=n&&n.data||[],u=r.map((function(e){return Object.assign({value:e.id,label:e.name},e)})),e.abrupt("return",{options:u});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),searchMedia:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,a.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z["a"].dispatch("media/search_media",{wd:a.trim()});case 5:if(n=e.sent,0!==n.code){e.next=10;break}return r=n&&n.data||[],u=r.map((function(e){return Object.assign({value:e.id,label:"("+e.id+")"+e.name},e)})),e.abrupt("return",{options:u});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),search_id_name:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,a.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z["a"].dispatch("property/search_id_name",{name:a.trim()});case 5:if(n=e.sent,0!==n.code){e.next=10;break}return r=n&&n.data||[],u=r.map((function(e){return Object.assign({value:e.id,label:e.id+" - "+e.name},e)})),e.abrupt("return",{options:u});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),partner_search_name:function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(t){var a,n,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.query,a.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,z["a"].dispatch("property/partner_search_name",{name:a.trim()});case 5:if(n=e.sent,0!==n.code){e.next=10;break}return r=n&&n.data||[],u=r.map((function(e){return Object.assign({value:e.id,label:e.name},e)})),e.abrupt("return",{options:u});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},R={name:"SelectItmeRemote",components:{Pagination:s["a"],artistComponent:h,checkMovieComponent:w,staffComponent:C},model:{prop:"give",event:"returnBack"},props:{give:{type:[Object,Array],default:function(){return null}},media_id:{type:[Number,String],default:function(){return""}},width:{type:String,default:function(){return"60%"}},type:{type:String,default:function(){return""}},multiple:{type:Boolean,default:function(){return!1}},remote:{type:Boolean,default:function(){return!1}},focusClearOptions:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},immediate:{type:Boolean,default:function(){return!1}},placeholder:{type:String,default:function(){return"请输入"}}},data:function(){return{map:{checkMovie:"checkMovieComponent",staff:"staffComponent",longhair:"artistComponent"},options:[],loading:!1,total:0,listQuery:{page:1,limit:20},query:""}},computed:{component:{get:function(){return this.map[this.type]}},value:{get:function(){var e=this;if(this.multiple)return this.give&&this.give.length&&this.give.forEach((function(t){var a=e.options.findIndex((function(e){return t.value===e.value}));-1===a&&e.options.push(t)})),this.give&&this.give.map((function(e){return e.value}))||[];if(this.give){var t=this.options.findIndex((function(t){return e.give.value===t.value}));-1===t&&this.options.push(this.give)}return this.give&&this.give.value||""},set:function(e){var t=this;if(this.multiple){var a=[];e.forEach((function(e){t.options.forEach((function(t){t.value==e&&a.push(t)}))})),this.$emit("returnBack",a)}else{var n=this.options.filter((function(t){return t.value==e}));this.$emit.apply(this,["returnBack"].concat(Object(c["a"])(n)))}}}},mounted:function(){this.immediate&&this.requestData()},methods:{getList:function(){this.requestData()},requestData:function(){var e=this;return Object(u["a"])(Object(i["a"])().mark((function t(){var a,n,r,u,c,s,l,o,p,d,f,b,h;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.type,n=e.media_id,r=e.listQuery,u=r.page,c=r.limit,s=e.query,l=M[a],e.loading=!0,t.next=5,l({query:s,media_id:n,page:u,limit:c});case 5:o=t.sent,p=o||{},d=p.options,f=void 0===d?[]:d,b=p.total,h=void 0===b?0:b,e.options=f,e.total=h,e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},remoteMethod:function(e){var t=this;return Object(u["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.query=e,t.listQuery.page=1,t.requestData();case 3:case"end":return a.stop()}}),a)})))()},valChange:function(e){this.$emit("change",e)},handelFocus:function(){this.multiple||!this.value&&this.focusClearOptions&&(this.options=[])}}},P=R,B=(a("3dee"),Object(f["a"])(P,n,r,!1,null,"1a81837b",null));t["a"]=B.exports},6294:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7");var n=a("69a0"),r=a.n(n);function i(e){return new Promise((function(t,a){var n,i=e,u=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,c=8097152,s=0,l=new r.a.ArrayBuffer,o=new FileReader;function p(){var e=s*c,t=e+c>=i.size?i.size:e+c;o.readAsArrayBuffer(u.call(i,e,t))}o.onload=function(e){l.append(e.target.result),s++,1===s&&i.size-c>0?o.readAsArrayBuffer(u.call(i,i.size-c,i.size)):(n=l.end(),t(n))},o.onerror=function(){a("oops, something went wrong."),console.warn("oops, something went wrong.")},p()}))}},"63ed":function(e,t,a){},7059:function(e,t,a){"use strict";a("b0c8")},"70a4":function(e,t,a){"use strict";a("d27d")},"73e5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["radio"===e.el?a("el-radio-group",{attrs:{disabled:e.disabled,size:"mini"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-radio",{key:t.value,attrs:{disabled:t.disabled,label:t.value}},[e._v(e._s(t.label))])})),1):e._e(),"checkbox"===e.el?a("el-checkbox-group",{attrs:{size:"mini"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1):e._e(),"select"===e.el?a("el-select",{style:{width:e.width},attrs:{filterable:"",clearable:e.clearable,disabled:e.disabled,placeholder:"请选择",loading:e.loading,multiple:e.multiple,"collapse-tags":e.multiple&&e.value&&e.value.length>3},on:{change:e.handelChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}},[t.hint?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.hint,placement:"right"}},[a("div",[e._v(e._s(t.label))])]):e._e()],1)})),1):e._e()],1)},r=[],i=a("2909"),u=a("c7eb"),c=a("1da1"),s=(a("a9e3"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("99af"),a("795d")),l={name:"SelectItme",model:{prop:"give",event:"returnBack"},props:{give:{type:[String,Array,Boolean,Number],default:function(){return null}},width:{type:String,default:function(){return"60%"}},type:{type:String,default:function(){return""}},multiple:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},clearable:{type:Boolean,default:function(){return!0}},platform:{type:Boolean,default:function(){return!1}},el:{type:String,default:function(){return"select"}},optionsList:{type:Array}},data:function(){return{options:[{value:!0,label:"是"},{value:!1,label:"否"}],loading:!1}},watch:{optionsList:{handler:function(){this.options=this.optionsList||[]},deep:!0}},computed:{value:{get:function(){return this.give},set:function(e){this.$emit("returnBack",e)}}},mounted:function(){this.getOptions()},methods:{getOptions:function(){var e=this;return Object(c["a"])(Object(u["a"])().mark((function t(){var a,n,r;return Object(u["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.options=[],!e.optionsList){t.next=3;break}return t.abrupt("return");case 3:return a=e.type,n=e.platform,r=s["a"][a]||s["a"]["default"],e.loading=!0,t.next=8,r({type:a,platform:n});case 8:if(t.t0=t.sent,t.t0){t.next=11;break}t.t0=[];case 11:e.options=t.t0,e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},handelChange:function(e){var t=this.options.filter((function(t){return Array.isArray(e)?e.includes(t.value):t.value==e}));this.multiple?this.$emit("change",t):this.$emit.apply(this,["change"].concat(Object(i["a"])(t)))}}},o=l,p=a("2877"),d=Object(p["a"])(o,n,r,!1,null,null,null);t["a"]=d.exports},"795d":function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a("b85c"),r=a("c7eb"),i=a("1da1"),u=(a("d81d"),a("b0c0"),a("99af"),a("4de4"),a("d3b7"),a("caad"),a("b64b"),a("07ac"),a("ac1f"),a("5319"),a("4360")),c=a("efeca"),s=a("75e9");function l(e){return o.apply(this,arguments)}function o(){return o=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,c,s,l,o,p,d,f,b,h;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,i=t.platform,e.next=3,u["a"].dispatch("property/property_conf",{type:a});case 3:if(c=e.sent,0!==c.code){e.next=13;break}s=c.data||{},l=s[a]||[],o=[],p=Object(n["a"])(l);try{for(p.s();!(d=p.n()).done;){for(h in f=d.value,b={},f)b.value=f[h],b.label=h,"subs"===a&&("10"==b.value?b.hint="我们可以授权给下游使用，但要求下游不可再去授权给它的下游":"11"==b.value&&(b.hint="我们可以授权给下游使用，也允许下游再去授权给其他平台"));o.push(b)}}catch(r){p.e(r)}finally{p.f()}if("term"!==a||i){e.next=12;break}return e.abrupt("return",o.map((function(e){return"电视"!==e.label&&(e.disabled=!0),e})));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,e.next=3,u["a"].dispatch("partner/partnerTags",{type:a});case 3:if(n=e.sent,0!==n.code){e.next=7;break}return i=n.data||[],e.abrupt("return",i.filter((function(e){return e.category===a})).map((function(e){return Object.assign({value:e.id,label:e.tag},e)})));case 7:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,c,s,l,o,p,d,f,b,h;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,e.next=3,u["a"].dispatch("ip_design/ip_design_project_config",{type:a});case 3:if(i=e.sent,c=a.toLocaleLowerCase(),0!==i.code){e.next=10;break}if(s=i.data||{},l=[],["rating","sale"].includes(a)){o=Object(n["a"])(s[c]);try{for(o.s();!(p=o.n()).done;)d=p.value,l.push({value:d,label:d})}catch(r){o.e(r)}finally{o.f()}}else{f=Object(n["a"])(s[c]);try{for(f.s();!(b=f.n()).done;)h=b.value,l.push({value:1*Object.keys(h)[0],label:Object.values(h)[0]})}catch(r){f.e(r)}finally{f.f()}}return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,c,s,l,o,p,d,f;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.type,i=u["a"].state.ip_design.property_conf_purchase,c=i[a.replace("ip_purchase_","")]||[],s=[],l=Object(n["a"])(c);try{for(l.s();!(o=l.n()).done;){for(f in p=o.value,d={},p)d.value=p[f],d.label=f;s.push(d)}}catch(r){l.e(r)}finally{l.f()}return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,i,c,s,l,o,p,d,f;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.type,i=u["a"].state.ip_design.property_conf_sales,c=i[a.replace("ip_sales_","")]||[],s=[],l=Object(n["a"])(c);try{for(l.s();!(o=l.n()).done;){for(f in p=o.value,d={},p)d.value=p[f],d.label=f;s.push(d)}}catch(r){l.e(r)}finally{l.f()}return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return _=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,n,i,c,s,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,e.next=3,u["a"].dispatch("injector/cdnConfig",{type:a});case 3:if(n=e.sent,0!==n.code){e.next=10;break}for(l in i=n.data||{},c=i.cdn_work_order[a]||[],s=[],c)s.push({label:c[l],value:l});return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,n,i,c,s,l,o,p;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,e.next=3,u["a"].dispatch("property/search_config",{type:a});case 3:if(n=e.sent,0!==n.code){e.next=9;break}if(i=n.data||{},c=[],"base_commonly_use"==a||"base_less_use"==a||"details_commonly_use"==a||"details_less_use"==a)for(o in s=a.indexOf("base_")>-1?"base_show_others":"details_show_others",l=a.replace("base_","").replace("details_",""),i[s][l])c.push({value:o,label:i[s][l][o]});else for(p in a=a.split("rightP_")[1],i[a])c.push({value:i[a][p].id,label:i[a][p].name});return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return x=Object(i["a"])(Object(r["a"])().mark((function e(t){var a,n,i,c,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.type,e.next=3,u["a"].dispatch("platform/onlineProgramsConfig",{type:a});case 3:if(n=e.sent,0!==n.code){e.next=10;break}for(s in i=n.data||{},c=[],a=a.split("platform_")[1],i[a])c.push({value:s,label:i[a][s]});return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}var k={userStatus:function(){return[{value:1,label:"正常"},{value:0,label:"停用"}]},charge:function(){return[{value:1,label:"付费"},{value:0,label:"免费"}]},userRole:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("role/roleGetList",{page:1,page_size:9999});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t||{},n=a.data,i=void 0===n?[]:n,e.abrupt("return",i.role_list.map((function(e){return Object.assign(e,{value:e.id,label:e.name})})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),levelOneMenu:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("role/menuGetFirstList",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t||{},n=a.data,i=void 0===n?[]:n,e.abrupt("return",i.map((function(e){return Object.assign({value:e.id,label:e.name},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),classify:function(){return c["i"]},genre:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("media/imdbGenreAllList",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t||{},n=a.data,i=void 0===n?[]:n,e.abrupt("return",i.map((function(e){return Object.assign({value:e.id,label:e.name},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),region:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("media/imdbRegionAllList",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t||{},n=a.data,i=void 0===n?[]:n,e.abrupt("return",i.map((function(e){return Object.assign({value:e.id,label:e.name},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),years:function(){for(var e=[{value:"2000-2009",label:"2000年代",leaf:!0},{value:"1990-1999",label:"1990年代",leaf:!0},{value:"1980-1989",label:"1980年代",leaf:!0},{value:"1970-1979",label:"1970年代",leaf:!0},{value:"1960-1969",label:"1960年代",leaf:!0},{value:"1950-1959",label:"1950年代",leaf:!0},{value:"1940-1949",label:"1940年代",leaf:!0}],t=2009,a=0;a<=20;a++)++t,e.unshift({value:"".concat(t,"-").concat(t),label:t});return e},job:function(){return[{value:"演员",label:"演员"},{value:"歌手",label:"歌手"},{value:"导演",label:"导演"},{value:"编剧",label:"编剧"},{value:"制片人",label:"制片人"},{value:"配音",label:"配音"},{value:"动作特技",label:"动作特技"}]},gender:function(){return[{value:"woman",label:"女"},{value:"man",label:"男"}]},MD:function(){return[{value:1,label:"白名单"},{value:0,label:"黑名单"}]},power:l,adds:l,solo:l,subs:l,gard:l,term:l,opes:l,usge:l,vip:l,mod:l,ip_purchase_solo:h,ip_purchase_subs:h,ip_purchase_gard:h,ip_sales_solo:m,ip_sales_subs:m,ip_sales_gard:m,radio:function(){return[{value:!0,label:"是"},{value:!1,label:"否"}]},REGION:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("property/propertyEntityList",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t||{},n=a.data,i=void 0===n?[]:n,e.abrupt("return",i.filter((function(e){return e.value=e.id,e.label=e.abbr,"REGION"===e.type||e.is_all})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),auth_type:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u["a"].state.ip_design.auth_type);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),entity:function(){return s["a"]},entity_exclude_area:function(){return s["b"]},pro_type:function(){return c["k"]},MediaRating:function(){return c["b"]},MediaCodingFormat:function(){return c["a"]},contentType:function(){return c["e"]},definition:function(){return c["f"]},TaskStatus:function(){return c["c"]},priority:function(){return c["j"]},category:function(){return c["d"]},location:function(){return c["g"]},archivedType:function(){return[{value:1,label:"归档"}]},licenseType:function(){return[{value:1,label:"授权书"},{value:2,label:"发行许可证"},{value:3,label:"上线通知"}]},diskStatus:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("origin/disk_config",{});case 2:if(t=e.sent,0!==t.code){e.next=7;break}for(n in a=[],t.data.add)a.push({disabled:!t.data.add[n].flag,value:t.data.add[n].value,label:n});return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),diskStatusAll:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("origin/disk_config",{});case 2:if(t=e.sent,0!==t.code){e.next=7;break}for(n in a=[],t.data.all)a.push({disabled:!t.data.all[n].flag,value:t.data.all[n].value,label:n});return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),diskStatusEdit:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("origin/disk_config",{});case 2:if(t=e.sent,0!==t.code){e.next=7;break}for(n in a=[],t.data.edit)a.push({disabled:!t.data.edit[n].flag,value:t.data.edit[n].value,label:n});return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),out_time:function(){return[{value:7,label:"超过7天"},{value:14,label:"超过14天"},{value:30,label:"超过30天"}]},taskLevel:function(){return[{value:1,label:"普通"},{value:2,label:"优先"},{value:3,label:"抢片"},{value:7,label:"定时"}]},batchTaskLevel:function(){return k.taskLevel().filter((function(e){return 3!==e.value&&7!==e.value}))},onlineOffline:function(){return[{value:1,label:"上片"},{value:0,label:"下片"}]},sort:function(){return[{value:"asc",label:"正序"},{value:"desc",label:"倒序"}]},cooperative:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("injector/partnerGetAllList",{page:1,page_size:100});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t.data||[],e.abrupt("return",a.map((function(e){return Object.assign({value:e.id,label:e.name},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),cooperative_cdn:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("injector/partnerGetAllList",{is_cdn:1});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t.data||[],e.abrupt("return",a.map((function(e){return Object.assign({value:e.id,label:e.name},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),department:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("partner/partnerDepartment",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t.data||[],e.abrupt("return",a.map((function(e){return Object.assign({value:e.id,label:e.title},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),company:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("partner/partnerCompany",{});case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t.data||[],e.abrupt("return",a.map((function(e){return Object.assign({value:e.id,label:e.title},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),PROD:p,BIZ:p,CHAN:p,state:f,tags:f,age_group:f,gender_group:f,GENRE:f,property:f,exclusive:f,biz_mode:f,rating:f,sale:f,ems_company:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a,n,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("partner/partnerEmsRecord",{start:"2020-12-01",end:"2020-12-31",page:1,page_size:1});case 2:if(t=e.sent,!t||0!==t.code){e.next=8;break}for(i in a=[],n=t.express||{},n)a.push({value:i,label:n[i]});return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),storage_type:y,cdnStatus:function(){return[{value:"1",label:"上线"},{value:"0",label:"下线"}]},seriesStatus:function(){return[{value:"0",label:"待处理"},{value:"1",label:"同步中"},{value:"2",label:"失败"},{value:"3",label:"完成"}]},mediaExportDays:function(){return[{value:7,label:"7天"},{value:30,label:"30天"},{value:180,label:"180天"},{value:365,label:"一年"},{value:0,label:"全部"}]},mediaSyncStatus:function(){return[{value:0,label:"未同步"},{value:1,label:"已同步"}]},vCode:function(){var e=Object(i["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].dispatch("origin/meta_video_codec");case 2:if(t=e.sent,0!==t.code){e.next=6;break}return a=t.data||{},e.abrupt("return",a.map((function(e){return Object.assign({value:e.v_codec,label:e.v_codec},e)})));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),rightP_type:w,rightP_status_label:w,rightP_authorized_area:w,rightP_authorized_way:w,rightP_copyright_chain:w,rightP_entity_category:w,rightP_entity:w,rightP_with_granted:w,rightP_extra:w,rightP_terminals:w,rightP_item_status:w,base_commonly_use:w,base_less_use:w,details_commonly_use:w,details_less_use:w,rightP_buyer_company:w,rightP_item_level:w,rightP_definition:w,rightP_editing_program:w,rightP_vip_pay:w,whether:function(){return c["l"]},platform_type:j,platform_cooperation_type:j,platform_plan_type:j,platform_service_operator:j,platform_onOffline_status:function(){return[{value:1,label:"已上线"},{value:2,label:"已下线"}]},default:function(){return[]}}},"7e5d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{class:["avatar-uploader",e.view?"":"upload-hover"],attrs:{action:"#",disabled:e.view,"show-file-list":!1,"http-request":e.uploadSectionFile,"before-upload":e.beforeAvatarUpload,accept:".jpg, .jpeg, .png, .gif, .JPG, .JPEG, .PBG, .GIF"}},[e.give?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"poster",style:{width:e.width,height:e.height},on:{mouseleave:e.handelMouseleave}},[a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.give+"?x-oss-process=image/resize,m_lfit,h_"+parseInt(e.height)+",w_"+parseInt(e.width),fit:"contain"}}),a("span",{staticClass:"MaterialModalButton_preview__16ilD",class:[e.opacity_0?"opacity_0":""],on:{click:function(t){return t.stopPropagation(),e.handlePreview(t)},mouseleave:e.mouseleave,mousemove:e.mousemove}},[e._v("预览")]),e.view?e._e():a("span",{staticClass:"DeleteIcon_delete__1gtI_"},[a("i",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleRemove(t)}}})])],1):a("i",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-icon-plus avatar-uploader-icon",style:{width:e.width,height:e.height}})]),e.fileimage?a("el-image-viewer",{staticClass:"image-viewer",attrs:{"on-close":e.onClose,"url-list":[e.give]}}):e._e()],1)},r=[],i=a("c7eb"),u=a("1da1"),c=(a("99af"),a("a9e3"),a("b0c0"),a("b680"),a("d3b7"),a("08a9")),s=a("bec9"),l=a("6294"),o=a("8975"),p=a("9b15"),d=a.n(p),f={name:"uploadImage",components:{ElImageViewer:c["a"]},model:{prop:"give",event:"returnBack"},props:{give:{type:String,default:function(){return""}},view:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"60px"}},height:{type:String,default:function(){return"60px"}},imgType:{type:String,default:function(){return""}},action:{type:String,default:function(){return"images/".concat((new Date).getFullYear(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getDate())}},maxSize:{type:Number,default:function(){return 0}}},watch:{give:{handler:function(e){var t=this;return Object(u["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["d"])(e);case 2:n=a.sent,t.$emit("getSize",n&&n.size);case 4:case"end":return a.stop()}}),a)})))()}}},data:function(){return{opacity_0:!1,fileimage:!1,loading:!1,imgMap:{horizontal:{minRatio:Object(o["Subtr"])(1.77,.01),maxRatio:Object(o["accAdd"])(1.77,.01),minWidth:720,ratioMsg:"请上传宽高比16:9，尺寸不能小于720像素的图片"},vertical:{minRatio:Object(o["Subtr"])(.72,.01),maxRatio:Object(o["accAdd"])(.72,.01),minWidth:540,ratioMsg:"请上传宽高比13:18，尺寸不能小于540像素的图片"},auto:{}}}},methods:{handelMouseleave:function(){this.opacity_0=!1},mouseleave:function(){this.opacity_0=!0},mousemove:function(){this.opacity_0=!1},triggerCheck:function(e){this.dispatch("ElFormItem","el.form.change",[e])},handleRemove:function(){this.$emit("returnBack",""),this.triggerCheck("")},onClose:function(){this.fileimage=!1},handlePreview:function(){this.fileimage=!0},getExtendName:function(e){var t=e.lastIndexOf(".");return t>-1?e.substring(t):""},uploadSectionFile:function(e){var t=this;return Object(u["a"])(Object(i["a"])().mark((function a(){var n,r,u,c,o,p,f;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.file,a.next=3,Object(l["a"])(n);case 3:return a.t0=a.sent,a.t1=t.getExtendName(n.name),r=a.t0+a.t1,t.loading=!0,a.next=9,t.$store.dispatch("user/injectorOssGetToken",{});case 9:if(u=a.sent,t.loading=!1,!u||0!==u.code){a.next=20;break}return c=u.data&&u.data.Credentials,o={region:s["a"].region,bucket:s["a"].bucket,accessKeyId:c.AccessKeyId,accessKeySecret:c.AccessKeySecret,stsToken:c.SecurityToken},p=new d.a(o),a.next=17,p.put("".concat(t.action,"/").concat(r),n);case 17:f=a.sent,t.$emit("returnBack",decodeURI(f.url)),t.triggerCheck(decodeURI(f.url));case 20:case"end":return a.stop()}}),a)})))()},checkImage:function(e,t){if(!this.imgType)return!0;var a,n,r,i,u=Object(o["accDiv"])(e,t).toFixed(2);if("auto"==this.imgType){if(u<1){var c=this.imgMap["vertical"];a=c.minWidth,n=c.minRatio,r=c.maxRatio,i=c.ratioMsg}if(u>=1){var s=this.imgMap["horizontal"];a=s.minWidth,n=s.minRatio,r=s.maxRatio,i=s.ratioMsg}}else if(this.imgType){var l=this.imgMap[this.imgType];a=l.minWidth,n=l.minRatio,r=l.maxRatio,i=l.ratioMsg}return e<a?(this.$message.error(i),!1):!(u<n||u>r)||(this.$message.error(i),!1)},beforeAvatarUpload:function(e){var t=this,a=this;return new Promise((function(n,r){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){var c=Object(u["a"])(Object(i["a"])().mark((function u(c){var l,o,p,d,f,b;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l=c.target.result,i.next=3,Object(s["d"])(l);case 3:o=i.sent,p=o||{},d=p.width,f=p.height,t.checkImage(d,f)?(a.$emit("getFileSize",e&&e.size),b=e&&e.size||0,a.imgType&&a.maxSize&&b/1024/1024>a.maxSize&&(t.$message.error("图片大小不能超过".concat(a.maxSize,"M")),r()),n()):r();case 6:case"end":return i.stop()}}),u)})));return function(e){return c.apply(this,arguments)}}()}))},dispatch:function(e,t,a){var n=this.$parent||this.$root,r=n.$options.componentName;while(n&&(!r||r!==e))n=n.$parent,n&&(r=n.$options.componentName);n&&n.$emit.apply(n,[t].concat(a))}}},b=f,h=(a("46b3"),a("2877")),v=Object(h["a"])(b,n,r,!1,null,"1a215136",null);t["a"]=v.exports},"7f74":function(e,t,a){},b0c8:function(e,t,a){},d27d:function(e,t,a){}}]);