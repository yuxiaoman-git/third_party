(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-518a4586"],{"1e37":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAABPklEQVRIS2P8//8/MwMdACMj41/GkWkZKyur7Z8/f+YCQ1kRiBnxhPZ/oNwtoPr4X79+ncGmjmAwAhXcAmp8z8TEtJRAtDL++/cvCajmNzBaTMi17DfQolZeXt75hNLQ58+fc4EWJgItEybXsj+ELEGT/0iRZUCfzWNhYdlKyFJg3IYCfeZJqWVFf//+nUTIMmZm5lqgZQWjlmGEFDDp/wHG2WgwjiYQ7LloZCUQERERiR8/fohycnK+fP369StYmNCkBAEG7QOgBTJAfA1YNOnR1DJgdaMOLHQlgRXl40+fPt2lpmVPgIZdZmNjmwakQbUxLsAIrKGLgZKiQN9qk1WfAauWUGCJPweomZtQqQ+U/wSMt2igr7eTZRlIk4aGBteLFy/EgC7G2QYBxuN/eXn5FxcvXvyB0+vDuikHAJjvaSrd3x3kAAAAAElFTkSuQmCC"},"1f07":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABeUlEQVRIS2P8//8/MwMdAOOoReSG8mjQkRtyDCMo6BgZGa8zMTHN+/v3bzex4cXMzFz679+/JGDe1ETXgzPogBbNAipOBFrWHBwc3Lpq1aq/uCwMCwtjXrt2bTXQklqgmvlAi9KItsjLy4tl+/btM4AaEoD4KtDCSYKCglvfvHnzAmaIiIiIxPv3772BFuQBxbSBeIGnp2fGtm3b/hBtEUwhCwtLPDD45iJpfAtkfwJiPiAWhokDgy35z58/C3H5mmCqAwYhyFfxQIPigUEiA3S9FZAfAMQbgL48BpR/AnQIyIKFQPkMsizi5OR0+PHjx26gga1AwxpAhgDFrIBihzg4OOy+f/9+DCQGdEQD0AHVQDFXoNgBbJbh9REw2HyAFqRZWlqGHDt27Bcui6ysrNiOHz++BmjhLGDwbSHZImwauLm59b59+3aOi4vL6OvXr5dwBRXJiQGbQQICAvIfPnx4SKwlIHUEEwMphuFTO2oR2SE5GnSDP+gAmpTZG1FAQeoAAAAASUVORK5CYII="},2492:function(t,e,o){},"38b1":function(t,e,o){"use strict";o("cc4b")},"4da1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABVUlEQVRIS+2WsUoDQRRF7+wOaNROIglqoSAWglhY6gf4AalERAubRTZobekHuIpYaKz8BBH/wU5IEQhRDLixkYiFJLP7vBEEhWSXLGphMjDVzNsz7+6bd0eJiI0/GKq3QJNHWDYBzqjsFKeKUFi4VhrUWK84uGm3L1K67AFKDHq2bVwgiMAoqECwSVrTd7GYBNRUFvZHNM7j6uW1ge1QsOHnMZoEZOIAX9eZUZ0ZJQQpFLTCZRzQCHIiWEkM4iXbqbrw4kDjHvb4n/J90IdSLG/Tl65fDD1UDAsnyNRDpFMateIWnj47xo93Bt6tO358grP46GL+10Azh5htWMhq4KHsoPwNFLLXJbGJjIeqJbjVNo7pry0XbT8Eik68yw1pZjnXtR9R9xzN7JSBw3Hdm5CXAY3VewdXXYNaAUsFDNUMxsR0fjMoDZlOwb9ew1unA/2/59Y7O08XKguNx/gAAAAASUVORK5CYII="},5561:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAACGElEQVRIS+2Vu0tCURzHvb4TsSupXOrSIEREU0Gbi9UYYYLSA6IgkNbGhv6BoKGhkCIQW1JqiIaG6OFcUVOTFWSIBqL4fvc9Q1Gm3oPdGqIDB+7jnN/n/L6/7zmHqVarMskvNOYf1KrK1NJxHNcRiUSWAbKhc+hP6Htms3k1GAymhBZABWJZtjuRSJwhmA7dI5VK7yuVSh+eZ9EfsIjhcDgcawYTBPn9fonT6TxFEF6v11tjsdjzW0CVStVbKBTO8X4KU818C6TVavvT6fStTCazl0qlw9pg+O5CdutGo5GPRqMvjWCCGcnl8slyubyLWrD1aqHT6XqSyeSdWq0eyWazF98BzQO05XA4VD6fr1wbCHLy8Xj8ETKO5XK545ZAVqtVEQgEFiHNmsFg6IIJvoBSqVRnJpO5hoTTdrt9v95iCLyhdJBsAplsY0y7kHU//I9i3lSxWPwiYUMQwzAhBLhSKpU7lCAGDlzC2DY4cKh2TjNQCVItkvpQgiSQbwUyLwDULQrI5XJJ3W53pY7VxQMpFAoL9tOxRqOxYH/dfISJmhEpNuT0ona2fD5/9JOgcYAOsEFHsUHJ8fPeRM2I1Mfr9Q56PJ5LbOJPZRIV1MyBrYIiCHoCiTYp7c3gCCL3FQd7D1DbG0WfQy02MEFJCSLD0shqBq78ZJKmRxD5yfM8iwuP3KZUzWQyhRrdtoLXBBWBYtDfA70CZ69dKtcdrcYAAAAASUVORK5CYII="},6226:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAB3klEQVRIS2P8//8/MwMdAOOoReSG8mjQkRtyDKNBx8DPz6/06dOn43x8fJYfP368R2xY4g06Li4uk58/f/qsWLGiITQ0FGwmJyen1Y8fPw5xcHDYff/+/RhIbPXq1QwREREN7OzsW759+3YGm+V4LWJhYQn/+/fvUmZm5uQ/f/4sxGURUF08UN1coLpooLqVJFsEcmlYWNgOoEZjXl5ey9+/f8v8+vXL7d+/f2VMTExdbGxsu1hZWZ98/vz5OFDN2VWrVnnAfI5uGcFUBzTIFejK7UCN/4GYEYtrweJAX3kCHbIbV5zhtQgYFFlA13cDNf8GYlAQbuXh4bkKjKfPwPjh/fLlizYwyLyBctFAzAr0ZSmQP42koAMaWgi1ZJOIiEjG69evX+FyraioqNibN29mAOX9oJb1Ex10jIyMIIN3pKWlJcycOfMfSKPqLAaFLz8Y5gMD0QwYiKd4OBgSb6cxPADJpaenM82aNWsBkOkBrHrEiLZISEhI2sLC4uW2bdv+wDRJTmLYD7TEFm4II8Ph53kMjjC+l5cXy4kTJ8TfvXv3lGiLsAWT5ESGr0BxdiS5n8/zGbhxBSmyOMFUh6yYkI/wWUiSRfjiiJCvSLKIkGFU89GoRWSnOkqCDgBFBAUqnuzqdAAAAABJRU5ErkJggg=="},b97d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAACKElEQVRIS+2VT0hUQRjAf/PW3W0PqSTEW3eVCsRKISqii5f+HCMsEDIhWoots1bo2KGOHYJgXUtQi8ouHeoQHYQNq1uHlDpIt1xzQ0pSzC1befte3xaF7Pp2X9vaIZrL8Jh532++b34zoyzLcvEXmvoPKrXKjku3bYiamY9csDRasdAtmNIU95r8XIm3kSq2AEegzYPUz3/hiQAqFdxWijcSeItpcUz6CX8le8dCzBaCOQL5o4xIkOA6H3vGw7z7GbAhRmPK5Kl8j0x30/FHoE19NC0u8apCcXgqwsPcYIFeTmUy9NS4CY6fYcYOVjSjuhhHDJO7zT6q4+H8vWjsp+HTIq+9LvYlzvKsdFAPIcNi4HQt3kttZHIDbb1BcC5FwqtxIHGO4ZJAoVu44/N0SvSrVWsJuM180IJBbTrNmFvj6Amd+ystJgu3LV0wxiEp2aBYVlVM3WXjH6SE7SuV0BakR0mKxqMiwU1HIIUSKc7L+fKJgbty/7EFidKGS9GZjDDgCCSTAlEumoqT0xHqywLqH0UL78TMU72coI0xWr6aDHsULZMRXi6HlTWjul7ajQxDbkXr2wiPVg90jYOGwQNPBfsnu75fP79aWTPK7s/l5+yY6OLFqu5RIQNLzei9BH28RqPPkd5yjtIZea8Uuui93bHecisfNw2uo/A4Av2Y9Fkk6ciVpOAVlB3cfYfq2QV0R6gl2LCepN1rW/SZ+I1sCk7990DfAPJlGSr8+S1fAAAAAElFTkSuQmCC"},cc4b:function(t,e,o){},e300:function(t,e,o){"use strict";o("2492")},ffcf:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("div",{staticClass:"LoginBox"},[n("div",{staticClass:"container"},[n("div",{staticClass:"right"},[n("div",{staticClass:"img-box"}),n("div",{staticClass:"form"},[n("el-form",{ref:"form_",attrs:{autocomplete:"off"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{staticClass:"mb-30"},[n("el-autocomplete",{ref:"phone",staticClass:"phone",staticStyle:{width:"100%"},attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"账号",readonly:""},on:{select:t.handleSelect,blur:function(e){return t.blur("phone")},focus:function(e){return t.focus("phone")}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item;return[n("div",[t._v(t._s(o.phone))])]}}]),model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone",e)},expression:"loginForm.phone"}},[n("i",{attrs:{slot:"prefix"},slot:"prefix"},[n("img",{attrs:{src:t.phoneImg?o("1e37"):o("4da1")}})])])],1),n("el-form-item",{staticClass:"mb-22"},[n("el-input",{staticClass:"pwd",attrs:{placeholder:"密码",type:t.showPwd_?"text":"password"},on:{blur:function(e){return t.blur("pwd")},focus:function(e){return t.focus("pwd")}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}},[n("i",{attrs:{slot:"prefix"},slot:"prefix"},[n("img",{attrs:{src:t.cutPwdImg?o("5561"):o("b97d")}})])]),n("img",{attrs:{src:t.showPwd_?o("6226"):o("1f07")},on:{click:function(e){t.showPwd_=!t.showPwd_}}})],1),n("el-form-item",{staticClass:"mb-40 checked"},[n("el-checkbox",{model:{value:t.loginForm.checked,callback:function(e){t.$set(t.loginForm,"checked",e)},expression:"loginForm.checked"}},[t._v("记住密码")])],1),n("el-button",{attrs:{type:"primary",loading:t.loading,"native-type":"submit",disabled:!t.full},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登录")])],1)],1)])])]),t._m(0)])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{staticClass:"footer",attrs:{href:"http://www.sh-senyu.com",target:"_blank"}},[o("strong",{staticClass:"line_left"}),o("strong",{staticClass:"line_right"}),t._v(" 上海森宇文化传媒股份有限公司 版权所有 电话：0574-87235568/87235570 ")])}],r=o("c7eb"),s=o("1da1"),c=(o("4de4"),o("d3b7"),o("b0c0"),o("13d5"),o("b64b"),o("5f87")),a=o("2c96"),A={name:"Login",data:function(){return{showPwd_:!1,phoneImg:!0,cutPwdImg:!0,loginForm:{phone:"",password:"",checked:!1},verifyPhone:!1,verifyPwd:!1,loading:!1,redirect:void 0,otherQuery:{},accountList:[]}},computed:{full:function(){return!(!this.verifyPhone||!this.verifyPwd)}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0},"loginForm.phone":{handler:function(t){var e=this;this.verifyPhone=t&&t.length>=1&&t.length<=12;var o=this.accountList.filter((function(e){return e.phone===t}));o.length>0&&(this.loginForm.phone=o[0].phone,this.loginForm.password=o[0].pwd,this.loginForm.checked=!0,this.$nextTick((function(){e.$refs.phone.focus()})))}},"loginForm.password":{handler:function(t){this.verifyPwd=t&&t.length>=6&&t.length<=20}}},created:function(){},mounted:function(){if(Object(c["a"])("accountInfo")){this.accountList=Object(c["a"])("accountInfo").accountInfo||[];var t=this.accountList.length;this.accountList.length>0&&(this.loginForm.phone=this.accountList[t-1].phone,this.loginForm.password=this.accountList[t-1].pwd,this.loginForm.checked=!0)}},destroyed:function(){},methods:{blur:function(t){"phone"===t&&(this.phoneImg=!0),"pwd"===t&&(this.cutPwdImg=!0)},focus:function(t){"phone"===t&&(this.phoneImg=!1,this.$refs.phone.$el.children[0].children[0].removeAttribute("readonly")),"pwd"===t&&(this.cutPwdImg=!1,this.$refs.phone.$el.children[0].children[0].removeAttribute("readonly"))},querySearch:function(t,e){var o=this.accountList,n=t?o.filter(this.createFilter(t)):o;n=this.verifyPhone?[]:n,e(n)},createFilter:function(t){return function(e){return 0===e.phone.indexOf(t)}},handleSelect:function(t){this.loginForm.phone=t.phone},handleLogin:function(){var t=this;this.loginForm.username=this.loginForm.phone,this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then(function(){var e=Object(s["a"])(Object(r["a"])().mark((function e(o){var n,i,s,A,u,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!1,0===o.code){e.next=3;break}return e.abrupt("return");case 3:if(!o.data||1==o.data.is_third_party){e.next=6;break}return t.$message({message:"此账户属于运营系统，不可登录此系统",type:"error"}),e.abrupt("return");case 6:return t.loginForm.checked?(t.accountList=t.accountList.filter((function(e){return e.phone!==t.loginForm.phone})),t.accountList.push({phone:t.loginForm.phone,pwd:t.loginForm.password})):t.accountList=t.accountList.filter((function(e){return e.phone!==t.loginForm.phone})),n=o.data||{},i=n.uid,s=n.real_name,A=n.name,u=n.email,l=n.is_admin,window.gio&&window.gio("setUserId",i),window.gio&&window.gio("people.set",{real_name:s,name:A,email:u,is_admin:l}),Object(c["d"])("accountInfo",{accountInfo:t.accountList}),Object(c["d"])("userInfo",o&&o.data||{}),e.next=14,Object(a["a"])();case 14:t.$router.push({path:"/"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.loading=!1}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,o){return"redirect"!==o&&(e[o]=t[o]),e}),{})},gotoRegistered:function(){this.$router.push("/registered")},gotofindpws:function(){this.$router.push("/findPwd")}}},u=A,l=(o("38b1"),o("e300"),o("2877")),h=Object(l["a"])(u,n,i,!1,null,"367c5878",null);e["default"]=h.exports}}]);